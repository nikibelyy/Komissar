<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>–ó–∞–ø–∏—Å—å –Ω–∞ –æ—Å–º–æ—Ç—Ä ‚Äî –î–¢–ü üöó</title>
<style>
:root{
  --bg: linear-gradient(180deg,#f7f7fb 0%, #eef2fb 100%);
  --card: rgba(255,255,255,0.85);
  --muted: #6b7280;
  --accent: #0a84ff;
  --accent-dark: #0066d6;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}
html,body{height:100%;}
body{
  margin:0;
  background: var(--bg);
  -webkit-font-smoothing:antialiased;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:20px;
}

.frame{
  width:100%;
  max-width:420px;
  border-radius:28px;
  box-shadow: 0 10px 30px rgba(20,20,50,0.12);
  overflow:hidden;
  background: var(--card);
  backdrop-filter: blur(10px) saturate(120%);
  padding:18px;
  box-sizing:border-box;
}

header{display:flex;align-items:center;gap:12px;margin-bottom:12px;}
.logo{width:60px;height:60px;border-radius:14px;background:linear-gradient(135deg,#fff,#f9fbff);border:1px solid rgba(0,0,0,0.04);display:flex;align-items:center;justify-content:center;font-size:28px;box-shadow:0 6px 16px rgba(10,20,50,0.06), inset 0 -6px 20px rgba(255,255,255,0.6);}
h1{font-size:18px;margin:0;color:#0b1220;line-height:1.05;}

form{margin-top:10px;}
.group{display:flex;flex-direction:column;gap:4px;margin-bottom:12px;}
label{font-size:12px;color:var(--muted);}
input{-webkit-appearance:none;appearance:none;border:none;outline:none;background: rgba(255,255,255,0.85);border-radius:12px;padding:12px 14px;font-size:16px;box-shadow:0 6px 14px rgba(10,20,50,0.04);transition: all 0.2s ease;}
input:focus{box-shadow:0 0 0 3px rgba(10,132,255,0.2);background: rgba(255,255,255,0.95);}
input::placeholder{color:#b8bcc3;}

.actions{display:flex;flex-direction:column;gap:12px;margin-top:16px;}
button.primary{background:linear-gradient(180deg,var(--accent), var(--accent-dark));color:white;border:none;padding:14px;font-size:16px;border-radius:16px;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:8px;}
button.primary:active{transform: scale(0.97);}

.status{margin-top:12px;padding:10px;border-radius:12px;font-size:14px;display:none;opacity:0;transition: opacity 0.3s ease;}
.status.show{display:block;opacity:1;}
.ok{background:rgba(16,185,129,0.08); color:#065f46; border:1px solid rgba(16,185,129,0.12);}
.err{background:rgba(239,68,68,0.06); color:#7f1d1d; border:1px solid rgba(239,68,68,0.08);}
</style>
</head>
<body>
<div class="frame">
  <header>
    <div class="logo">üöó</div>
    <div><h1>–ó–∞–ø–∏—Å—å –Ω–∞ –æ—Å–º–æ—Ç—Ä –ø–æ—Å–ª–µ –î–¢–ü</h1></div>
  </header>

  <form id="apptForm" autocomplete="off">
    <div class="group">
      <label>–ò–º—è –∫–ª–∏–µ–Ω—Ç–∞</label>
      <input id="name" type="text" placeholder="–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤ üëã" required />
    </div>

    <div class="group">
      <label>–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞</label>
      <input id="phone" type="tel" value="+7 " maxlength="16" placeholder="+7 XXX XXX XX XX üì±" required />
    </div>

    <div class="group">
      <label>–ú–∞—Ä–∫–∞ –∞–≤—Ç–æ</label>
      <input id="make" type="text" placeholder="Toyota, Lada, BMW üöò" required />
    </div>

    <div class="group">
      <label>–ì–æ—Å. –Ω–æ–º–µ—Ä</label>
      <input id="plate" type="text" placeholder="A777AA77 ü™™" required />
    </div>

    <div class="actions">
      <button type="submit" class="primary">üì© –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å</button>
    </div>

    <div id="status" class="status"></div>
  </form>
</div>

<script>
const form = document.getElementById('apptForm');
const statusEl = document.getElementById('status');
const phoneInput = document.getElementById('phone');

const TELEGRAM_TOKEN = "7875147914:AAGEAZ1Bxg82z54OeSO4Q_zGaeHWeG1xJ1o";
const TELEGRAM_CHAT_ID = "7523840597";
const OFFICE_ADDRESS = "–≥. –í–æ—Ä–æ–Ω–µ–∂, –ê–Ω—Ç–æ–Ω–æ–≤–∞-–û–≤—Å–∏–µ–Ω–∫–æ, 15–ê –∫–æ—Ä–ø—É—Å 1";
const OFFICE_PHONE = "+7 (995) 719-25-23";

// –ú–∞—Å–∫–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ +7 XXX XXX XX XX
phoneInput.addEventListener('input', ()=>{
  if(!phoneInput.value.startsWith('+7')) phoneInput.value = '+7 ';
  let digits = phoneInput.value.replace(/\D/g,'').slice(1,11);
  let formatted = '+7 ';
  if(digits.length>0) formatted += digits.substring(0,3);
  if(digits.length>=4) formatted += ' ' + digits.substring(3,6);
  if(digits.length>=7) formatted += ' ' + digits.substring(6,8);
  if(digits.length>=9) formatted += ' ' + digits.substring(8,10);
  phoneInput.value = formatted;
});

form.addEventListener('submit', async (e)=>{
  e.preventDefault();
  statusEl.className='status';
  const name = document.getElementById('name').value.trim();
  const make = document.getElementById('make').value.trim();
  const plate = document.getElementById('plate').value.trim();
  const phoneDigits = phoneInput.value.replace(/\D/g,''); // —Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã

  if(phoneDigits.length!==11 || !phoneDigits.startsWith('7')){
    statusEl.textContent='‚ö†Ô∏è –í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –Ω–æ–º–µ—Ä +7 XXX XXX XX XX';
    statusEl.className='status show err';
    return;
  }

  const formattedPhone = '+7 ' + phoneDigits.slice(1,4)+' '+phoneDigits.slice(4,7)+' '+phoneDigits.slice(7,9)+' '+phoneDigits.slice(9,11);

  // WhatsApp
  const waUrl = `https://wa.me/${phoneDigits}?text=${encodeURIComponent(`üö® –ó–∞–ø–∏—Å—å –Ω–∞ –æ—Å–º–æ—Ç—Ä üö®\nüë§ ${name}\nüöó ${make}\nü™™ ${plate}\nüìû ${formattedPhone}\nüìç ${OFFICE_ADDRESS}\n‚òé ${OFFICE_PHONE}`)}`;
  window.open(waUrl,'_blank');

  // Telegram
  const tgText = `üö® –ù–æ–≤–∞—è –∑–∞–ø–∏—Å—å üö®\n\nüë§ –ò–º—è: ${name}\nüìû –¢–µ–ª–µ—Ñ–æ–Ω: ${formattedPhone}\nüöó –ú–∞—Ä–∫–∞ –∞–≤—Ç–æ: ${make}\nü™™ –ì–æ—Å. –Ω–æ–º–µ—Ä: ${plate}\nüìç –ê–¥—Ä–µ—Å: ${OFFICE_ADDRESS}`;
  const tgUrl = `https://api.telegram.org/bot${TELEGRAM_TOKEN}/sendMessage?chat_id=${encodeURIComponent(TELEGRAM_CHAT_ID)}&parse_mode=HTML&text=${encodeURIComponent(tgText)}`;

  try{
    await fetch(tgUrl,{method:'GET',mode:'cors'});
    statusEl.textContent='‚úÖ –ó–∞–ø–∏—Å—å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –≤ Telegram –∏ –æ—Ç–∫—Ä—ã—Ç WhatsApp';
    statusEl.className='status show ok';
  }catch{
    statusEl.textContent='‚ö†Ô∏è WhatsApp –æ—Ç–∫—Ä—ã—Ç. –ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ Telegram';
    statusEl.className='status show err';
  }
});
</script>
</body>
</html>
