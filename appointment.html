<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>–ó–∞–ø–∏—Å—å –Ω–∞ –æ—Å–º–æ—Ç—Ä ‚Äî –î–¢–ü üöó</title>
  <style>
    /* iOS-like clean card styles, adapted for mobile */
    :root{
      --bg: linear-gradient(180deg,#f7f7fb 0%, #eef2fb 100%);
      --card: rgba(255,255,255,0.85);
      --muted: #6b7280;
      --accent: #0a84ff;
      --radius: 18px;
      --glass: rgba(255,255,255,0.6);
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    html,body{height:100%;}
    body{
      margin:0;
      background: var(--bg);
      -webkit-font-smoothing:antialiased;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:20px;
    }

    .frame{
      width:100%;
      max-width:420px;
      border-radius:28px;
      box-shadow: 0 10px 30px rgba(20,20,50,0.12);
      overflow:hidden;
      background:
        radial-gradient(1200px 400px at 10% 10%, rgba(10,132,255,0.06), transparent 10%),
        radial-gradient(1000px 300px at 90% 90%, rgba(99,102,241,0.04), transparent 10%),
        var(--card);
      backdrop-filter: blur(10px) saturate(120%);
      padding:18px;
      box-sizing:border-box;
    }

    header{
      display:flex;
      align-items:center;
      gap:12px;
      margin-bottom:12px;
    }
    .logo{
      width:60px;height:60px;border-radius:14px;
      background:linear-gradient(135deg,#fff,#f9fbff);
      border:1px solid rgba(0,0,0,0.04);
      display:flex;align-items:center;justify-content:center;
      font-size:28px;
      box-shadow: 0 6px 16px rgba(10,20,50,0.06), inset 0 -6px 20px rgba(255,255,255,0.6);
    }
    h1{
      font-size:18px;margin:0;
      color:#0b1220;
      line-height:1.05;
    }
    p.lead{margin:0;font-size:13px;color:var(--muted);}

    form{margin-top:10px;}
    .group{
      display:flex;flex-direction:column;gap:8px;margin-bottom:12px;
    }
    label{
      font-size:12px;color:var(--muted);
      display:flex;justify-content:space-between;align-items:center;
    }
    input, select{
      -webkit-appearance:none;
      appearance:none;
      border: none;
      outline: none;
      background: rgba(255,255,255,0.85);
      border-radius:12px;
      padding:12px 14px;
      font-size:16px;
      box-shadow: 0 6px 14px rgba(10,20,50,0.04);
    }
    input::placeholder{color:#b8bcc3}

    .row{display:flex;gap:10px;}
    .row input{flex:1}

    .note{
      font-size:12px;color:var(--muted);margin-top:6px;
      display:flex;gap:8px;align-items:center;
    }

    .actions{
      display:flex;flex-direction:column;gap:8px;margin-top:14px;
    }
    button.primary{
      background:linear-gradient(180deg,var(--accent), #0066d6);
      color:white;
      border:none;
      padding:14px;
      font-size:16px;
      border-radius:14px;
      box-shadow: 0 8px 24px rgba(10,132,255,0.18);
      display:flex;align-items:center;justify-content:center;gap:8px;
    }
    button.ghost{
      background:transparent;
      color:var(--accent);
      border:1px solid rgba(10,132,255,0.12);
      padding:12px;border-radius:12px;
      font-size:14px;
    }

    .status{
      margin-top:12px;padding:10px;border-radius:10px;font-size:13px;
      display:none;
    }
    .status.show{display:block;}
    .ok{background:rgba(16,185,129,0.08); color:#065f46; border:1px solid rgba(16,185,129,0.12);}
    .err{background:rgba(239,68,68,0.06); color:#7f1d1d; border:1px solid rgba(239,68,68,0.08);}

    footer{margin-top:14px;font-size:12px;color:var(--muted);text-align:center;}
    @media (max-width:420px){
      .frame{padding:14px;border-radius:20px;}
      .logo{width:56px;height:56px}
    }
  </style>
</head>
<body>
  <div class="frame" role="application" aria-labelledby="title">
    <header>
      <div class="logo">üöó</div>
      <div>
        <h1 id="title">–ó–∞–ø–∏—Å—å –Ω–∞ –æ—Å–º–æ—Ç—Ä –ø–æ—Å–ª–µ –î–¢–ü</h1>
        <p class="lead">–í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç–∞ ‚Äî –æ—Ç–∫—Ä–æ–µ—Ç—Å—è WhatsApp –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—Å—è –∑–∞–ø–∏—Å—å –≤ Telegram. ‚úÖ</p>
      </div>
    </header>

    <form id="apptForm" autocomplete="off">
      <div class="group">
        <label>–ò–º—è –∫–ª–∏–µ–Ω—Ç–∞</label>
        <input id="name" type="text" placeholder="–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤ üëã" required />
      </div>

      <div class="group">
        <label>–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞</label>
        <input id="phone" type="tel" inputmode="tel" pattern="[\d+\s()-]{6,}" placeholder="+7 (9XX) XXX-XX-XX üì±" required />
      </div>

      <div class="group">
        <label>–ú–∞—Ä–∫–∞ –∞–≤—Ç–æ</label>
        <input id="make" type="text" placeholder="Toyota, Lada, BMW üöò" required />
      </div>

      <div class="group">
        <label>–ì–æ—Å. –Ω–æ–º–µ—Ä</label>
        <input id="plate" type="text" placeholder="A777AA77 ü™™" required />
      </div>

      <div class="note">üìç –ê–¥—Ä–µ—Å: –≥. –í–æ—Ä–æ–Ω–µ–∂, –ê–Ω—Ç–æ–Ω–æ–≤–∞-–û–≤—Å–∏–µ–Ω–∫–æ, 15–ê –∫–æ—Ä–ø—É—Å 1 ‚Äî –¢–µ–ª.: +7 (995) 719-25-23</div>

      <div class="actions">
        <button type="submit" class="primary">üì© –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å</button>
        <button type="button" id="clearBtn" class="ghost">üßπ –û—á–∏—Å—Ç–∏—Ç—å —Ñ–æ—Ä–º—É</button>
      </div>

      <div id="status" class="status"></div>
    </form>

    <footer>–° –≤–∞–º–∏ —Å–≤—è–∂—É—Ç—Å—è –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–ø–∏—Å–∏. –°–ø–∞—Å–∏–±–æ –∑–∞ –æ–±—Ä–∞—â–µ–Ω–∏–µ! üôè</footer>
  </div>

  <script>
    (function(){
      const form = document.getElementById('apptForm');
      const statusEl = document.getElementById('status');
      const clearBtn = document.getElementById('clearBtn');

      // ---------- –í–ê–®–ò –î–ê–ù–ù–´–ï (—Ç–æ–∫–µ–Ω –∏ —á–∞—Ç) ----------
      // –í—ã –ø–µ—Ä–µ–¥–∞–ª–∏ —ç—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è ‚Äî –æ–Ω–∏ –∑–¥–µ—Å—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä—è–º–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ.
      // –ü–æ–º–Ω–∏—Ç–µ: —Ç–æ–∫–µ–Ω —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –≤–∏–¥–∏–º—ã–º –¥–ª—è –≤—Å–µ—Ö, –∫—Ç–æ –æ—Ç–∫—Ä–æ–µ—Ç —Ñ–∞–π–ª.
      const TELEGRAM_TOKEN = "7875147914:AAGEAZ1Bxg82z54OeSO4Q_zGaeHWeG1xJ1o";
      const TELEGRAM_CHAT_ID = "7523840597";
      // ------------------------------------------------

      const OFFICE_ADDRESS = "–≥. –í–æ—Ä–æ–Ω–µ–∂, –ê–Ω—Ç–æ–Ω–æ–≤–∞-–û–≤—Å–∏–µ–Ω–∫–æ, 15–ê –∫–æ—Ä–ø—É—Å 1";
      const OFFICE_PHONE = "+7 (995) 719-25-23";

      function showStatus(text, ok=true){
        statusEl.textContent = text;
        statusEl.className = 'status show ' + (ok ? 'ok' : 'err');
      }

      clearBtn.addEventListener('click', () => {
        form.reset();
        statusEl.className = 'status';
      });

      form.addEventListener('submit', async (e) => {
        e.preventDefault();
        statusEl.className = 'status';
        const name = document.getElementById('name').value.trim();
        const phone = document.getElementById('phone').value.trim();
        const make = document.getElementById('make').value.trim();
        const plate = document.getElementById('plate').value.trim();

        if(!name || !phone || !make || !plate){
          showStatus('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è ‚úçÔ∏è', false);
          return;
        }

        // –¢–µ–∫—Å—Ç –¥–ª—è WhatsApp
        const waMessage = `üìå *–ó–∞–ø–∏—Å—å –Ω–∞ –æ—Å–º–æ—Ç—Ä*\n\n` +
                          `–ò–º—è: ${name}\n` +
                          `–¢–µ–ª–µ—Ñ–æ–Ω: ${phone}\n` +
                          `–ú–∞—Ä–∫–∞ –∞–≤—Ç–æ: ${make}\n` +
                          `–ì–æ—Å. –Ω–æ–º–µ—Ä: ${plate}\n\n` +
                          `–ê–¥—Ä–µ—Å: ${OFFICE_ADDRESS}\n` +
                          `–¢–µ–ª–µ—Ñ–æ–Ω –¥–ª—è —Å–≤—è–∑–∏: ${OFFICE_PHONE}\n\n` +
                          `–° –≤–∞–º–∏ —Å–≤—è–∂—É—Ç—Å—è –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–ø–∏—Å–∏.\n` +
                          `–°–ø–∞—Å–∏–±–æ –∑–∞ –æ–±—Ä–∞—â–µ–Ω–∏–µ! üôè`;

        // –æ—Ç–∫—Ä—ã–≤–∞–µ–º WhatsApp (–º–æ–±–∏–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞)
        const encoded = encodeURIComponent(waMessage);
        const waUrl = `https://wa.me/?text=${encoded}`; // —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
        // –ü–æ–ø—ã—Ç–∫–∞ –æ—Ç–∫—Ä—ã—Ç—å WhatsApp –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ (–Ω–∞ –º–æ–±–∏–ª–µ –æ—Ç–∫—Ä–æ–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ)
        try {
          window.location.href = waUrl;
        } catch (err) {
          // –≤ —Ä–µ–¥–∫–∏—Ö —Å–ª—É—á–∞—è—Ö fallback:
          window.open(waUrl, '_blank');
        }

        // –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ Telegram (–ø–æ–ø—ã—Ç–∫–∞ –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞)
        const tgText = `–ù–æ–≤–∞—è –∑–∞–ø–∏—Å—å –Ω–∞ –æ—Å–º–æ—Ç—Ä üöó\n\n` +
                       `–ò–º—è: ${name}\n–¢–µ–ª–µ—Ñ–æ–Ω: ${phone}\n–ú–∞—Ä–∫–∞: ${make}\n–ì–æ—Å. –Ω–æ–º–µ—Ä: ${plate}\n–ê–¥—Ä–µ—Å: ${OFFICE_ADDRESS}`;

        const tgUrl = `https://api.telegram.org/bot${TELEGRAM_TOKEN}/sendMessage?chat_id=${encodeURIComponent(TELEGRAM_CHAT_ID)}&parse_mode=HTML&text=${encodeURIComponent(tgText)}`;

        // –ü—ã—Ç–∞–µ–º—Å—è –æ—Ç–ø—Ä–∞–≤–∏—Ç—å; –≤ —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ (CORS) ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é
        try {
          const resp = await fetch(tgUrl, { method: 'GET', mode: 'cors' });
          if (resp.ok){
            const data = await resp.json();
            if (data && data.ok) {
              showStatus('‚úÖ –ó–∞–ø–∏—Å—å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –≤ Telegram –∏ –æ—Ç–∫—Ä—ã—Ç WhatsApp –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è.', true);
            } else {
              console.warn('Telegram response not ok:', data);
              showStatus('‚ö†Ô∏è WhatsApp –æ—Ç–∫—Ä—ã—Ç. –ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ Telegram (–æ—Ç–≤–µ—Ç API). –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω/ID.', false);
            }
          } else {
            console.warn('Telegram fetch failed, status:', resp.status);
            showStatus('‚ö†Ô∏è WhatsApp –æ—Ç–∫—Ä—ã—Ç. –ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ Telegram (HTTP ' + resp.status + '). –í–æ–∑–º–æ–∂–Ω–æ CORS ‚Äî —Å–º. –ø–æ–¥—Å–∫–∞–∑–∫—É –Ω–∏–∂–µ.', false);
            showCORSAdvice();
          }
        } catch (err) {
          console.error('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Telegram:', err);
          showStatus('‚ö†Ô∏è WhatsApp –æ—Ç–∫—Ä—ã—Ç. –ë—Ä–∞—É–∑–µ—Ä –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª –æ—Ç–ø—Ä–∞–≤–∫—É –≤ Telegram (CORS). –°–º. –ø–æ–¥—Å–∫–∞–∑–∫—É –Ω–∏–∂–µ.', false);
          showCORSAdvice();
        }

      });

      function showCORSAdvice(){
        // –î–æ–±–∞–≤–∏–º –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π –Ω–µ–±–æ–ª—å—à–æ–π –±–ª–æ–∫ —Å —Å–æ–≤–µ—Ç–æ–º
        const note = document.createElement('div');
        note.style.marginTop='10px';
        note.style.fontSize='13px';
        note.style.color='#374151';
        note.innerHTML = `
          <strong>–ü–æ–¥—Å–∫–∞–∑–∫–∞:</strong> –µ—Å–ª–∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ Telegram –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–∞, <em>—ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ</em> ‚Äî –º–Ω–æ–≥–∏–µ –±—Ä–∞—É–∑–µ—Ä—ã –±–ª–æ–∫–∏—Ä—É—é—Ç –ø—Ä—è–º—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API Telegram –∏–∑-–∑–∞ CORS.
          <br>–î–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ —Ä–µ—à–µ–Ω–∏—è:
          <ol style="margin:6px 0 0 16px;padding:0;color:#374151">
            <li>–†–∞–∑–º–µ—Å—Ç–∏—Ç—å –ø—Ä–æ—Å—Ç–æ–π —Å–µ—Ä–≤–µ—Ä (Node/Cloud Function), –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–º–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å —ç—Ç–æ–π —Ñ–æ—Ä–º—ã –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç –∑–∞–ø—Ä–æ—Å –∫ Telegram (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ, —Ç–æ–∫–µ–Ω –Ω–µ –±—É–¥–µ—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ).</li>
            <li>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–µ—Ä–≤–∏—Å-–ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç–µ–ª—å (serverless) –∏–ª–∏ —Å—Ç–æ—Ä–æ–Ω–Ω—é—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é (Integromat/Make/IFTTT) –¥–ª—è –ø—Ä–∏—ë–º–∞ –≤–µ–±—Ö—É–∫–∞ –∏ –ø–µ—Ä–µ—Å—ã–ª–∫–∏ –≤ Telegram.</li>
          </ol>
        `;
        statusEl.insertAdjacentElement('afterend', note);
      }

    })();
  </script>
</body>
</html>
