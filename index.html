<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, viewport-fit=cover" />
  <title>CRM</title>
  <link rel="manifest" href="manifest.webmanifest">
  <meta name="theme-color" content="#0a84ff">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="CRM">
  <link rel="apple-touch-icon" href="icons/icon-192.png">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="app">
    <header class="nav">
      <div class="nav-title">CRM</div>
      <button id="installBtn" class="btn ghost" hidden>Установить</button>
    </header>
    <main class="content">
      <section class="card card-enter">
        <h2 class="card-title">Новый клиент</h2>
        <form id="clientForm" autocomplete="off">
          <div class="field">
            <label>Имя клиента</label>
            <input id="name" required>
          </div>
          <div class="field two">
            <div><label>Номер машины</label><input id="plate" required></div>
            <div><label>Марка машины</label><input id="brand" required></div>
          </div>
          <div class="field"><label>Сумма</label><input id="amount" type="number" required></div>
          <div class="field">
            <label>Тип сделки</label>
            <div class="segmented">
              <button type="button" class="segment active" data-type="agency">Агентский</button>
              <button type="button" class="segment" data-type="cession">Цессия</button>
            </div>
            <div id="agencyOptions" class="segmented secondary">
              <button type="button" class="segment active" data-rate="25">25%</button>
              <button type="button" class="segment" data-rate="30">30%</button>
            </div>
            <div id="cessionInfo" class="note" hidden>Цессия: 15%</div>
          </div>
          <div class="calc">
            <div><div class="calc-label">Комиссия</div><div class="calc-value"><span id="commission">0</span> ₽</div></div>
            <div><div class="calc-label">Процент</div><div class="calc-value"><span id="percent">25</span>%</div></div>
          </div>
          <div class="actions">
            <button class="btn primary" type="submit">Добавить</button>
            <button class="btn ghost" type="reset" id="resetBtn">Сброс</button>
          </div>
        </form>
      </section>
      <section class="list-block card card-enter">
        <div class="list-header">
          <h2 class="card-title">Клиенты</h2>
          <input id="search" class="search" type="search" placeholder="Поиск">
        </div>
        <ul id="clients" class="list"></ul>
        <template id="clientItem">
          <li class="row swipe-in">
            <div class="row-main">
              <div class="title"></div>
              <div class="subtitle"></div>
              <div class="meta"></div>
            </div>
            <div class="row-actions">
              <button class="btn edit">Редактировать</button>
              <button class="btn delete">Удалить</button>
            </div>
          </li>
        </template>
        <div id="empty" class="empty">Список пуст.</div>
      </section>
    </main>
    <footer class="tabbar">
      <button class="tab active">Главная</button>
      <button class="tab">Клиенты</button>
    </footer>
  </div>
  <script src="app.js" type="module"></script>
</body>
</html>