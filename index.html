<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, viewport-fit=cover" />
  <title>CRM ‚Ä¢ –ê–≤—Ç–æ —Å–¥–µ–ª–∫–∏</title>

  <!-- PWA -->
  <link rel="manifest" href="manifest.webmanifest">
  <meta name="theme-color" content="#0a84ff">

  <!-- iOS add to home -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="CRM">
  <link rel="apple-touch-icon" href="icons/icon-192.png">

  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="app">

    <header class="nav">
      <div class="nav-title">CRM</div>
      <div class="nav-subtitle">–ê–≤—Ç–æ —Å–¥–µ–ª–∫–∏</div>
      <button id="installBtn" class="btn ghost" hidden>–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</button>
    </header>

    <main class="content">

      <section class="card card-enter">
        <h2 class="card-title">–ù–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç</h2>
        <form id="clientForm" autocomplete="off">
          <div class="field">
            <label>–ò–º—è –∫–ª–∏–µ–Ω—Ç–∞</label>
            <input id="name" type="text" inputmode="text" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤" required>
          </div>

          <div class="field two">
            <div>
              <label>–ù–æ–º–µ—Ä –º–∞—à–∏–Ω—ã</label>
              <input id="plate" type="text" inputmode="text" placeholder="–ê123–í–°77" required>
            </div>
            <div>
              <label>–ú–∞—Ä–∫–∞ –º–∞—à–∏–Ω—ã</label>
              <input id="brand" type="text" inputmode="text" placeholder="Toyota" required>
            </div>
          </div>

          <div class="field">
            <label>–û–±—â–∞—è —Å—É–º–º–∞, ‚ÇΩ</label>
            <input id="amount" type="number" inputmode="decimal" step="0.01" min="0" placeholder="–ù–∞–ø—Ä.: 350000" required>
          </div>

          <div class="field">
            <label>–¢–∏–ø —Å–¥–µ–ª–∫–∏</label>

            <div class="segmented" role="tablist" aria-label="–¢–∏–ø —Å–¥–µ–ª–∫–∏">
              <button type="button" class="segment active" data-type="agency">–ê–≥–µ–Ω—Ç—Å–∫–∏–π</button>
              <button type="button" class="segment" data-type="cession">–¶–µ—Å—Å–∏—è</button>
            </div>

            <div id="agencyOptions" class="segmented secondary" role="tablist" aria-label="–ü—Ä–æ—Ü–µ–Ω—Ç (–∞–≥–µ–Ω—Ç—Å–∫–∏–π)">
              <button type="button" class="segment active" data-rate="25">25%</button>
              <button type="button" class="segment" data-rate="30">30%</button>
            </div>

            <div id="cessionInfo" class="note" hidden>–¶–µ—Å—Å–∏—è: 15% –æ—Ç –æ–±—â–µ–π —Å—É–º–º—ã.</div>
          </div>

          <div class="calc">
            <div>
              <div class="calc-label">–ö–æ–º–∏—Å—Å–∏—è</div>
              <div class="calc-value"><span id="commission">0</span> ‚ÇΩ</div>
            </div>
            <div>
              <div class="calc-label">–ü—Ä–æ—Ü–µ–Ω—Ç</div>
              <div class="calc-value"><span id="percent">25</span>%</div>
            </div>
          </div>

          <div class="actions">
            <button class="btn primary" type="submit">–î–æ–±–∞–≤–∏—Ç—å</button>
            <button class="btn ghost" type="reset" id="resetBtn">–°–±—Ä–æ—Å</button>
          </div>
        </form>
      </section>

      <section class="list-block card card-enter">
        <div class="list-header">
          <h2 class="card-title">–ö–ª–∏–µ–Ω—Ç—ã</h2>
          <input id="search" class="search" type="search" placeholder="–ü–æ–∏—Å–∫: –∏–º—è, –Ω–æ–º–µ—Ä, –º–∞—Ä–∫–∞...">
        </div>

        <ul id="clients" class="list"></ul>

        <template id="clientItem">
          <li class="row swipe-in">
            <div class="row-main">
              <div class="title"></div>
              <div class="subtitle"></div>
              <div class="meta"></div>
            </div>
            <div class="row-actions">
              <button class="icon-btn edit" title="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å" aria-label="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å">‚úèÔ∏è</button>
              <button class="icon-btn delete" title="–£–¥–∞–ª–∏—Ç—å" aria-label="–£–¥–∞–ª–∏—Ç—å">üóëÔ∏è</button>
            </div>
          </li>
        </template>

        <div id="empty" class="empty">–°–ø–∏—Å–æ–∫ –ø—É—Å—Ç. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ ‚Üë</div>
      </section>

      <dialog id="editDialog">
        <form method="dialog" id="editForm">
          <h3>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</h3>
          <div class="field">
            <label>–ò–º—è –∫–ª–∏–µ–Ω—Ç–∞</label>
            <input id="e_name" required>
          </div>
          <div class="field two">
            <div>
              <label>–ù–æ–º–µ—Ä –º–∞—à–∏–Ω—ã</label>
              <input id="e_plate" required>
            </div>
            <div>
              <label>–ú–∞—Ä–∫–∞</label>
              <input id="e_brand" required>
            </div>
          </div>
          <div class="field">
            <label>–û–±—â–∞—è —Å—É–º–º–∞, ‚ÇΩ</label>
            <input id="e_amount" type="number" step="0.01" min="0" required>
          </div>
          <div class="field">
            <label>–¢–∏–ø —Å–¥–µ–ª–∫–∏</label>
            <select id="e_type">
              <option value="agency-25">–ê–≥–µ–Ω—Ç—Å–∫–∏–π 25%</option>
              <option value="agency-30">–ê–≥–µ–Ω—Ç—Å–∫–∏–π 30%</option>
              <option value="cession-15">–¶–µ—Å—Å–∏—è 15%</option>
            </select>
          </div>
          <div class="calc small">
            <div>
              <div class="calc-label">–ö–æ–º–∏—Å—Å–∏—è</div>
              <div class="calc-value"><span id="e_commission">0</span> ‚ÇΩ</div>
            </div>
            <div>
              <div class="calc-label">–ü—Ä–æ—Ü–µ–Ω—Ç</div>
              <div class="calc-value"><span id="e_percent">0</span>%</div>
            </div>
          </div>
          <menu>
            <button value="cancel" class="btn ghost">–û—Ç–º–µ–Ω–∞</button>
            <button id="editSave" value="default" class="btn primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
          </menu>
        </form>
      </dialog>

    </main>

    <footer class="tabbar">
      <button class="tab active">–ì–ª–∞–≤–Ω–∞—è</button>
      <button class="tab">–ö–ª–∏–µ–Ω—Ç—ã</button>
      <button class="tab">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
    </footer>
  </div>

  <script src="app.js" type="module"></script>
</body>
</html>
